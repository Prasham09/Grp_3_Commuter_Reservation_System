-- ============================================
-- SCRIPT 2: CREATE_TABLES.sql (NO INDEXES)
-- Connect as CRS_ADMIN and run this script
-- ============================================
show user;

SET SERVEROUTPUT ON SIZE UNLIMITED;

-- Drop existing tables 
BEGIN EXECUTE IMMEDIATE 'DROP TABLE CRS_RESERVATION CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP TABLE CRS_TRAIN_SCHEDULE CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP TABLE CRS_PASSENGER CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP TABLE CRS_DAY_SCHEDULE CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP TABLE CRS_TRAIN_INFO CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/

-- Drop sequences 
BEGIN EXECUTE IMMEDIATE 'DROP SEQUENCE seq_train_id'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP SEQUENCE seq_sch_id'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP SEQUENCE seq_tsch_id'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP SEQUENCE seq_passenger_id'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP SEQUENCE seq_booking_id'; EXCEPTION WHEN OTHERS THEN NULL; END;
/

-- Create sequences
CREATE SEQUENCE seq_train_id START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE seq_sch_id START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE seq_tsch_id START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE seq_passenger_id START WITH 1001 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE seq_booking_id START WITH 5001 INCREMENT BY 1 NOCACHE;